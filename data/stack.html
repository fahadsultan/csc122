

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Stack &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/myfile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'data/stack';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    CSC-122 Data Structures & Algorithms (Spring 2024)
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../calendar.html">Calendar</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../syllabus/index.html">Syllabus</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/pathways.html">Purposeful Pathways (Spring â€˜24)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/grading.html">Grading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/textbook.html">Textbooks &amp; Other Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/mental_health.html">Mental Health Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/academic_success.html">Center for Academic Success</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/accomodations.html">Accomodations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/integrity.html">Academic Integrity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../syllabus/title_9.html">Nondiscrimination Policy and Sexual Misconduct</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Designing Abstract Processes</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../algos/analysis.html">1. Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../algos/time.html">1.4. Time Complexity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../algos/space.html">1.5. Space Complexity</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../algos/brute.html">2. Brute Force</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../algos/search_linear.html">2.1. Linear Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../algos/bogo.html">2.2. Bogosort</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tmp/greedy.html">3. Greedy Algorithms</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../algos/divide_conquer.html">4. Divide and Conquer</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../algos/search_binary.html">4.1. Binary Search</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Basic Elements of Programming</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../tmp/data.html">5. Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tmp/operations.html">6. Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tmp/controls.html">7. Controls</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Building Abstractions with Functions</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../tmp/functions.html">8. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tmp/recursion.html">9. Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tmp/functionalprogramming.html">10. Functional Programming</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Building Abstractions with Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../tmp/oop.html">11. Object Oriented Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tmp/datastructures.html">12. Native Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tmp/structs.html">13. Custom Data Structures</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fdata/stack.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/data/stack.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Stack</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#abstract-data-types">Abstract data types</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-stack-adt">The Stack ADT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementing-stacks-with-python-lists">Implementing stacks with Python lists</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pushing-and-popping">Pushing and popping</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-a-stack-to-evaluate-postfix">Using a stack to evaluate postfix</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parsing">Parsing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluating-postfix">Evaluating postfix</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clients-and-providers">Clients and providers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#glossary"><em>Glossary</em></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises"><em>Exercises</em></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="stack">
<h1>Stack<a class="headerlink" href="#stack" title="Permalink to this headline">#</a></h1>
<section id="abstract-data-types">
<span id="index-0"></span><h2>Abstract data types<a class="headerlink" href="#abstract-data-types" title="Permalink to this headline">#</a></h2>
<p>The data types you have seen so far are all concrete, in the sense that we have completely specified how they are implemented. For example, the <code class="docutils literal notranslate"><span class="pre">Card</span></code> class represents a card using two integers. As we discussed at the time, that is not the only way to represent a card; there are many alternative implementations.</p>
<p>An <strong>abstract data type</strong>, or ADT, specifies a set of operations (or methods) and the semantics of the operations (what they do), but it does not not specify the implementation of the operations. Thatâ€™s what makes it abstract.</p>
<p>Why is that useful?</p>
<ol class="arabic simple">
<li><p>It simplifies the task of specifying an algorithm if you can denote the operations you need without having to think at the same time about how the operations are performed.</p></li>
<li><p>Since there are usually many ways to implement an ADT, it might be useful to write an algorithm that can be used with any of the possible implementations.</p></li>
<li><p>Well-known ADTs, such as the Stack ADT in this chapter, are often implemented in standard libraries so they can be written once and used by many programmers.</p></li>
<li><p>The operations on ADTs provide a common high-level language for specifying and talking about algorithms.</p></li>
</ol>
<p>When we talk about ADTs, we often distinguish the code that uses the ADT, called the <strong>client</strong> code, from the code that implements the ADT, called the <strong>provider</strong> code.</p>
</section>
<section id="the-stack-adt">
<h2>The Stack ADT<a class="headerlink" href="#the-stack-adt" title="Permalink to this headline">#</a></h2>
<p>In this chapter, we will look at one common ADT, the <strong>stack</strong>. A stack is a collection, meaning that it is a data structure that contains multiple elements. Other collections we have seen include dictionaries and lists.</p>
<p>An ADT is defined by the operations that can be performed on it, which is called an <strong>interface</strong>. The interface for a stack consists of these operations:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__init__</span></code>: Initialize a new empty stack.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">push</span></code>: Add a new item to the stack.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pop</span></code>: Remove and return an item from the stack. The item that is returned is always the last one that was added.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_empty</span></code>: Check whether the stack is empty.</p></li>
</ul>
<p>A stack is sometimes called a last in, first out or LIFO data structure, because the last item added is the first to be removed.</p>
</section>
<section id="implementing-stacks-with-python-lists">
<h2>Implementing stacks with Python lists<a class="headerlink" href="#implementing-stacks-with-python-lists" title="Permalink to this headline">#</a></h2>
<p>The list operations that Python provides are similar to the operations that define a stack. The interface isnâ€™t exactly what it is supposed to be, but we can write code to translate from the Stack ADT to the built-in operations.</p>
<p>This code is called an <strong>implementation</strong> of the Stack ADT. In general, an implementation is a set of methods that satisfy the syntactic and semantic requirements of an interface.</p>
<p>Here is an implementation of the Stack ADT that uses a Python list:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Stack</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">is_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">==</span> <span class="p">[])</span>
</pre></div>
</div>
</div>
</div>
<p>A <code class="docutils literal notranslate"><span class="pre">Stack</span></code> object contains an attribute named <code class="docutils literal notranslate"><span class="pre">items</span></code> that is a list of items in the stack. The initialization method sets <code class="docutils literal notranslate"><span class="pre">items</span></code> to the empty list.</p>
<p>To push a new item onto the stack, <code class="docutils literal notranslate"><span class="pre">push</span></code> appends it onto <code class="docutils literal notranslate"><span class="pre">items</span></code>. To pop an item off the stack, <code class="docutils literal notranslate"><span class="pre">pop</span></code> uses the homonymous (<em>same-named</em>) list method to remove and return the last item on the list.</p>
<p>Finally, to check if the stack is empty, <code class="docutils literal notranslate"><span class="pre">is_empty</span></code> compares <code class="docutils literal notranslate"><span class="pre">items</span></code> to the empty list.</p>
<p>An implementation like this, in which the methods consist of simple invocations of existing methods, is called a <strong>veneer</strong>. In real life, veneer is a thin coating of good quality wood used in furniture-making to hide lower quality wood underneath. Computer scientists use this metaphor to describe a small piece of code that hides the details of an implementation and provides a simpler, or more standard, interface.</p>
</section>
<section id="pushing-and-popping">
<h2>Pushing and popping<a class="headerlink" href="#pushing-and-popping" title="Permalink to this headline">#</a></h2>
<p>A stack is a <strong>generic data structure</strong>, which means that we can add any type of item to it. The following example pushes two integers and a string onto the stack:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">Stack</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mi">54</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We can use <code class="docutils literal notranslate"><span class="pre">is_empty</span></code> and <code class="docutils literal notranslate"><span class="pre">pop</span></code> to remove and print all of the items on the stack:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">output</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">s</span><span class="o">.</span><span class="n">is_empty</span><span class="p">():</span>
    <span class="n">output</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>+ 45 54 
</pre></div>
</div>
</div>
</div>
<p>The output is <code class="docutils literal notranslate"><span class="pre">+</span> <span class="pre">45</span> <span class="pre">54</span></code>. In other words, we just used a stack to print the items backward! Granted, itâ€™s not the standard format for printing a list, but by using a stack, it was remarkably easy to do.</p>
<p>You should compare this bit of code to the implementation of <code class="docutils literal notranslate"><span class="pre">print_backward</span></code> in the Linked lists chapter. There is a natural parallel between the recursive version of <code class="docutils literal notranslate"><span class="pre">print_backward</span></code> and the stack algorithm here. The difference is that print_backward uses the runtime stack to keep track of the nodes while it traverses the list, and then prints them on the way back from the recursion. The stack algorithm does the same thing, except that is use a <code class="docutils literal notranslate"><span class="pre">Stack</span></code> object instead of the runtime stack.</p>
</section>
<section id="using-a-stack-to-evaluate-postfix">
<h2>Using a stack to evaluate postfix<a class="headerlink" href="#using-a-stack-to-evaluate-postfix" title="Permalink to this headline">#</a></h2>
<p>In most programming languages, mathematical expressions are written with the operator between the two operands, as in <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">+</span> <span class="pre">2</span></code>. This format is called <strong>infix</strong>. An alternative used by some calculators is called <strong>postfix</strong>. In postfix, the operator follows the operands, as in <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">2</span> <span class="pre">+</span></code>.</p>
<p>The reason postfix is sometimes useful is that there is a natural way to evaluate a postfix expression using a stack:</p>
<ol class="arabic simple">
<li><p>Starting at the beginning of the expression, get one term (operator or operand) at a time.</p>
<ul class="simple">
<li><p>If the term is an operand, push it on the stack.</p></li>
<li><p>If the term is an operator, pop two operands off the stack, perform the operation on them, and push the result back on the stack.</p></li>
</ul>
</li>
<li><p>When you get to the end of the expression, there should be exactly one operand left on the stack. That operand is the result.</p></li>
</ol>
</section>
<section id="parsing">
<h2>Parsing<a class="headerlink" href="#parsing" title="Permalink to this headline">#</a></h2>
<p>To implement the previous algorithm, we need to be able to traverse a string and break it into operands and operators. This process is an example of <strong>parsing</strong>, and the resultsâ€”the individual chunks of the string â€“ are called <strong>tokens</strong>. You might remember these words from the The way of the program chapter.</p>
<p>Python provides a <code class="docutils literal notranslate"><span class="pre">split</span></code> method in both the <code class="docutils literal notranslate"><span class="pre">string</span></code> and <code class="docutils literal notranslate"><span class="pre">re</span></code> (regular expression) modules. The function <code class="docutils literal notranslate"><span class="pre">string.split</span></code> splits a string into a list using a single character as a <strong>delimiter</strong>. For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">string</span>
<span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Now is the time&quot;</span><span class="p">,</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="nn">Input In [4],</span> in <span class="ni">&lt;cell line: 2&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">string</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Now is the time&quot;</span><span class="p">,</span><span class="s2">&quot; &quot;</span><span class="p">)</span>

<span class="ne">AttributeError</span>: module &#39;string&#39; has no attribute &#39;split&#39;
</pre></div>
</div>
</div>
</div>
<p>In this case, the delimiter is the space character, so the string is split at each space.</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">re.split</span></code> is more powerful, allowing us to provide a regular expression instead of a delimiter. A regular expression is a way of specifying a set of strings. For example, <code class="docutils literal notranslate"><span class="pre">[A-z]</span></code> is the set of all letters and <code class="docutils literal notranslate"><span class="pre">[0-9]</span></code> is the set of all numbers. The ^ operator negates a set, so <code class="docutils literal notranslate"><span class="pre">[^0-9]</span></code> is the set of everything that is not a number, which is exactly the set we want to use to split up postfix expressions:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;([^0-9])&quot;</span><span class="p">,</span> <span class="s2">&quot;123+456*/&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Notice that the order of the arguments is different from <code class="docutils literal notranslate"><span class="pre">string.split</span></code>; the delimiter comes before the string.</p>
<p>The resulting list includes the operands <code class="docutils literal notranslate"><span class="pre">123</span></code> and <code class="docutils literal notranslate"><span class="pre">456</span></code> and the operators <code class="docutils literal notranslate"><span class="pre">*</span></code> and <code class="docutils literal notranslate"><span class="pre">/</span></code>. It also includes two empty strings that are inserted after the operands.</p>
</section>
<section id="evaluating-postfix">
<h2>Evaluating postfix<a class="headerlink" href="#evaluating-postfix" title="Permalink to this headline">#</a></h2>
<p>To evaluate a postfix expression, we will use the parser from the previous section and the algorithm from the section before that. To keep things simple, weâ€™ll start with an evaluator that only implements the operators <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">*</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">eval_postfix</span><span class="p">(</span><span class="n">expr</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">re</span>
    <span class="n">token_list</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;([^0-9])&quot;</span><span class="p">,</span> <span class="n">expr</span><span class="p">)</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="n">Stack</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">token_list</span><span class="p">:</span>
        <span class="k">if</span>  <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">or</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span>  <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;+&#39;</span><span class="p">:</span>
            <span class="nb">sum</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span> <span class="o">+</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">stack</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="nb">sum</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">token</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
            <span class="n">product</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span> <span class="o">*</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="n">stack</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">stack</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The first condition takes care of spaces and empty strings. The next two conditions handle operators. We assume, for now, that anything else must be an operand. Of course, it would be better to check for erroneous input and report an error message, but weâ€™ll get to that later.</p>
<p>Letâ€™s test it by evaluating the postfix form of <code class="docutils literal notranslate"><span class="pre">(56+47)*2</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">eval_postfix</span><span class="p">(</span><span class="s2">&quot;56 47 + 2 \*&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>Thatâ€™s close enough.</p>
</section>
<section id="clients-and-providers">
<h2>Clients and providers<a class="headerlink" href="#clients-and-providers" title="Permalink to this headline">#</a></h2>
<p>One of the fundamental goals of an ADT is to separate the interests of the provider, who writes the code that implements the ADT, and the client, who uses the ADT. The provider only has to worry about whether the implementation is correct â€“ in accord with the specification of the ADT â€“ and not how it will be used.</p>
<p>Conversely, the client assumes that the implementation of the ADT is correct and doesnâ€™t worry about the details. When you are using one of Pythonâ€™s built-in types, you have the luxury of thinking exclusively as a client.</p>
<p>Of course, when you implement an ADT, you also have to write client code to test it. In that case, you play both roles, which can be confusing. You should make some effort to keep track of which role you are playing at any moment.</p>
<br/>
<hr/>
</section>
<section id="glossary">
<h2><em>Glossary</em><a class="headerlink" href="#glossary" title="Permalink to this headline">#</a></h2>
<dl class="glossary simple">
<dt id="term-abstract-data-type-ADT">abstract data type (ADT)<a class="headerlink" href="#term-abstract-data-type-ADT" title="Permalink to this term">#</a></dt><dd><p>A data type (usually a collection of objects) that is defined by a set of operations but that can be implemented in a variety of ways.</p>
</dd>
<dt id="term-interface">interface<a class="headerlink" href="#term-interface" title="Permalink to this term">#</a></dt><dd><p>The set of operations that define an ADT.</p>
</dd>
<dt id="term-implementation">implementation<a class="headerlink" href="#term-implementation" title="Permalink to this term">#</a></dt><dd><p>Code that satisfies the syntactic and semantic requirements of an interface.</p>
</dd>
<dt id="term-client">client<a class="headerlink" href="#term-client" title="Permalink to this term">#</a></dt><dd><p>A program (or the person who wrote it) that uses an ADT.</p>
</dd>
<dt id="term-provider">provider<a class="headerlink" href="#term-provider" title="Permalink to this term">#</a></dt><dd><p>The code (or the person who wrote it) that implements an ADT.</p>
</dd>
<dt id="term-veneer">veneer<a class="headerlink" href="#term-veneer" title="Permalink to this term">#</a></dt><dd><p>A class definition that implements an ADT with method definitions that are invocations of other methods, sometimes with simple transformations. The veneer does no significant work, but it improves or standardizes the interface seen by the client.</p>
</dd>
<dt id="term-generic-data-structure">generic data structure<a class="headerlink" href="#term-generic-data-structure" title="Permalink to this term">#</a></dt><dd><p>A kind of data structure that can contain data of any type.</p>
</dd>
<dt id="term-infix">infix<a class="headerlink" href="#term-infix" title="Permalink to this term">#</a></dt><dd><p>A way of writing mathematical expressions with the operators between the operands.</p>
</dd>
<dt id="term-postfix">postfix<a class="headerlink" href="#term-postfix" title="Permalink to this term">#</a></dt><dd><p>A way of writing mathematical expressions with the operators after the operands.</p>
</dd>
<dt id="term-parse">parse<a class="headerlink" href="#term-parse" title="Permalink to this term">#</a></dt><dd><p>To read a string of characters or tokens and analyze its grammatical structure.</p>
</dd>
<dt id="term-token">token<a class="headerlink" href="#term-token" title="Permalink to this term">#</a></dt><dd><p>A set of characters that are treated as a unit for purposes of parsing, such as the words in a natural language.</p>
</dd>
<dt id="term-delimiter">delimiter<a class="headerlink" href="#term-delimiter" title="Permalink to this term">#</a></dt><dd><p>A character that is used to separate tokens, such as punctuation in a natural language.</p>
</dd>
</dl>
</section>
<section id="exercises">
<h2><em>Exercises</em><a class="headerlink" href="#exercises" title="Permalink to this headline">#</a></h2>
<ol class="arabic simple">
<li><p>Apply the postfix algorithm to the expression <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">2</span> <span class="pre">+</span> <span class="pre">3</span> <span class="pre">*</span></code>. This example demonstrates one of the advantages of postfixâ€”there is no need to use parentheses to control the order of operations. To get the same result in infix, we would have to write <code class="docutils literal notranslate"><span class="pre">(1</span> <span class="pre">+</span> <span class="pre">2)</span> <span class="pre">*</span> <span class="pre">3</span></code>.</p></li>
<li><p>Write a postfix expression that is equivalent to <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">+</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">3</span></code>.</p></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./data"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#abstract-data-types">Abstract data types</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-stack-adt">The Stack ADT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementing-stacks-with-python-lists">Implementing stacks with Python lists</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pushing-and-popping">Pushing and popping</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-a-stack-to-evaluate-postfix">Using a stack to evaluate postfix</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parsing">Parsing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluating-postfix">Evaluating postfix</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clients-and-providers">Clients and providers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#glossary"><em>Glossary</em></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises"><em>Exercises</em></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Syed Fahad Sultan
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      Â© Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>